(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],p=0,f=[];p<s.length;p++)c=s[p],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Frontend_Vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00af":function(e,t,n){"use strict";n("9f30")},"0268":function(e,t,n){"use strict";n("7e2d")},"2bef":function(e,t,n){"use strict";n("6e6f")},"51f4":function(e,t,n){e.exports=n.p+"img/MyGramLogo.54601f4f.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");n("b0c0");function o(e,t,n,o,a,c){var s=Object(r["y"])("Menu"),u=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["f"])(r["a"],null,[c.isNotNavigationPage?(Object(r["r"])(),Object(r["d"])(s,{key:0,prop_name:a.name,prop_role:a.role,prop_isCreator:a.isCreator},null,8,["prop_name","prop_role","prop_isCreator"])):Object(r["e"])("",!0),Object(r["h"])(u)],64)}var a=n("51f4"),c=n.n(a),s=function(e){return Object(r["u"])("data-v-0ed50432"),e=e(),Object(r["s"])(),e},u={class:"background"},i=s((function(){return Object(r["g"])("div",{class:"logo"},[Object(r["g"])("img",{src:c.a})],-1)})),l={class:"links"},p={key:0,class:"holder"},f=s((function(){return Object(r["g"])("i",{class:"fas fa-home fa-2x icon"},null,-1)})),b={key:1,class:"holder"},g=s((function(){return Object(r["g"])("i",{class:"fas fa-home fa-2x icon"},null,-1)})),d={key:2,class:"holder"},m=s((function(){return Object(r["g"])("i",{class:"fas fa-camera fa-2x icon"},null,-1)})),j={class:"holder"},O=s((function(){return Object(r["g"])("i",{class:"fas fa-money-bill-wave fa-2x icon"},null,-1)})),h={class:"holder"},v=s((function(){return Object(r["g"])("i",{class:"fas fa-users fa-2x icon"},null,-1)})),w=s((function(){return Object(r["g"])("i",{class:"fas fa-sign-out-alt fa-2x icon"},null,-1)})),k=[w];function x(e,t,n,o,a,c){var s=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["f"])("div",u,[i,Object(r["g"])("h1",null,Object(r["A"])(this.prop_name),1),Object(r["g"])("h2",null,Object(r["A"])(this.prop_role),1),Object(r["g"])("div",l,[n.prop_isCreator?(Object(r["r"])(),Object(r["f"])("div",p,[Object(r["h"])(s,{to:"/profile"},{default:Object(r["G"])((function(){return[f]})),_:1})])):(Object(r["r"])(),Object(r["f"])("div",b,[Object(r["h"])(s,{to:"/"},{default:Object(r["G"])((function(){return[g]})),_:1})])),n.prop_isCreator?(Object(r["r"])(),Object(r["f"])("div",d,[Object(r["h"])(s,{to:"/createPost"},{default:Object(r["G"])((function(){return[m]})),_:1})])):Object(r["e"])("",!0),Object(r["g"])("div",j,[Object(r["h"])(s,{to:"/buytokens"},{default:Object(r["G"])((function(){return[O]})),_:1})]),Object(r["g"])("div",h,[Object(r["h"])(s,{to:"/followers"},{default:Object(r["G"])((function(){return[v]})),_:1})]),Object(r["g"])("div",{class:"holder",onClick:t[0]||(t[0]=function(){return c.logout&&c.logout.apply(c,arguments)})},k)])])}var y={data:function(){return{}},props:{prop_name:{default:"name",type:String},prop_role:{default:"role",type:String},prop_isCreator:{default:!0,type:Boolean}},methods:{logout:function(){console.log("logout"),localStorage.removeItem("jwt"),this.$router.push("login")}}},R=(n("00af"),n("d959")),P=n.n(R);const I=P()(y,[["render",x],["__scopeId","data-v-0ed50432"]]);var _=I,F=(n("ac1f"),n("1276"),n("5319"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("25f0"),{parseJwt:function(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)},checkExpiration:function(e){var t=new Date(1e3*e),n=new Date;return t.getTime()<=n.getTime()},getRole:function(){var e=this.parseJwt(localStorage.getItem("jwt")),t=e["Role"];return t},getName:function(){var e=this.parseJwt(localStorage.getItem("jwt")),t=e["Name"];return t}}),C={components:{Menu:_},data:function(){return{name:"",role:"",isCreator:!0}},methods:{getUserInfo:function(){this.name=F.getName(),this.role=F.getRole(),"creator"!=this.role&&(this.isCreator=!1),console.log(this.isCreator)}},computed:{isNotNavigationPage:function(){return"login"!==this.$route.name&&"register"!==this.$route.name&&(this.getUserInfo(),!0)}}};n("2bef");const A=P()(C,[["render",o]]);var T=A,S=n("6c02"),U=function(e){return Object(r["u"])("data-v-945bfd0a"),e=e(),Object(r["s"])(),e},$={class:"background"},L={class:"panel"},D=U((function(){return Object(r["g"])("div",{class:"section"},[Object(r["g"])("h1",{class:"title"},"MyGram")],-1)})),B={class:"section"},E={class:"input"},V=U((function(){return Object(r["g"])("i",{class:"icon fas fa-envelope"},null,-1)})),q=U((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),G={class:"input"},H=U((function(){return Object(r["g"])("i",{class:"icon fas fa-lock"},null,-1)})),J=U((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),M={class:"section"};function N(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",$,[Object(r["g"])("div",L,[D,Object(r["g"])("div",B,[Object(r["g"])("div",E,[V,q,Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),class:"input-field",placeholder:"Email"},null,512),[[r["E"],a.email]])]),Object(r["g"])("div",G,[H,J,Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),type:"password",class:"input-field",placeholder:"Password"},null,512),[[r["E"],a.password]])])]),Object(r["g"])("div",M,[Object(r["g"])("p",{onClick:t[2]||(t[2]=function(){return c.goToRegisterPage&&c.goToRegisterPage.apply(c,arguments)})},"Register"),Object(r["g"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return c.handleLogIn&&c.handleLogIn.apply(c,arguments)})},"Log In")])])])}var z=n("1da1"),K=(n("96cf"),n("bc3a")),Q=n.n(K),W="http://localhost:43085",X={signIn:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.post("".concat(W,"/api/Login/authenticate"),e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return console.log(n.data),t.abrupt("return",{token:n.data});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},Y={data:function(){return{email:"",password:""}},methods:{handleLogIn:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e.email,password:e.password},t.next=3,X.signIn(n);case 3:r=t.sent,localStorage.setItem("jwt",r.token),null!=e.$route.params.nextUrl?e.$router.push(e.$route.params.nextUrl):e.$router.push("home");case 6:case"end":return t.stop()}}),t)})))()},goToRegisterPage:function(){this.$router.push("register")}}};n("d65b");const Z=P()(Y,[["render",N],["__scopeId","data-v-945bfd0a"]]);var ee=Z,te={class:"panel"};function ne(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",te,[Object(r["H"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"email"},null,512),[[r["E"],a.email]]),Object(r["H"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.username=e}),placeholder:"username"},null,512),[[r["E"],a.username]]),Object(r["H"])(Object(r["g"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.isFanAccount=e})},null,512),[[r["C"],a.isFanAccount]]),Object(r["g"])("button",{onClick:t[3]||(t[3]=function(){return c.registerAccount&&c.registerAccount.apply(c,arguments)})},"Register ")])}var re="http://localhost:43085",oe={createFan:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.post("".concat(re,"/api/Register/fan"),e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{response:n});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},createCreator:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.post("".concat(re,"/api/Register/creator"),e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{response:n});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},ae={data:function(){return{email:"",username:"",isFanAccount:!1}},methods:{registerAccount:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.email&&e.username){t.next=3;break}return alert("All fields need to be filled in"),t.abrupt("return");case 3:if(n={email:e.email,username:e.username},!e.isFanAccount){t.next=9;break}return t.next=7,oe.createFan(n);case 7:t.next=11;break;case 9:return t.next=11,oe.createCreator(n);case 11:alert("Account has been created"),e.$router.push("login");case 13:case"end":return t.stop()}}),t)})))()}}};const ce=P()(ae,[["render",ne]]);var se=ce;function ue(e,t,n,o,a,c){var s=Object(r["y"])("Posts");return Object(r["r"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("button",{onClick:t[0]||(t[0]=function(){return c.goToProfilePage&&c.goToProfilePage.apply(c,arguments)})},"test"),Object(r["g"])("div",null,[Object(r["h"])(s,{onTest:c.likePost,onReaction:c.reaction,onFollow:c.follow,onDonate:c.donate,posts:a.imagePosts},null,8,["onTest","onReaction","onFollow","onDonate","posts"])])],64)}n("a4d3"),n("e01a");var ie="http://localhost:43085",le={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},pe={PostImage:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r={description:e,image:t};try{o=Q.a.post("".concat(ie,"/api/Post"),r,le)}catch(a){o=a.response}return n.abrupt("return",{response:o});case 3:case"end":return n.stop()}}),n)})))()},UploadImage:function(e,t){var n=this;return Object(z["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q.a.post("".concat(ie,"/api/Post/upload"),e,le).then(n.PostImage(t.description,t.image));case 3:o=r.sent,console.log(o),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),o=r.t0.response;case 10:return r.abrupt("return",{response:o});case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},getPosts:function(){return Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get("".concat(ie,"/api/Post"),le);case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},likePost:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.put("".concat(ie,"/api/Post/id"),e,le);case 3:n=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",t.t0.response);case 9:return t.abrupt("return",n.data);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},saveLike:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.post("".concat(ie,"/api/SaveLike"),e,le);case 3:n=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",t.t0.response);case 9:return t.abrupt("return",n.data);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},react:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=n,t.next=4,Q.a.post("".concat(ie,"/api/Reaction"),e,le);case 4:t.t1=t.sent,t.t0,t.t1,t.next=11;break;case 8:return t.prev=8,t.t2=t["catch"](0),t.abrupt("return",t.t2.response);case 11:return t.abrupt("return",n.data);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}};n("00b4");function fe(e,t,n,o,a,c){var s=Object(r["y"])("Post");return Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.posts,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id},[Object(r["h"])(s,{post:e,onLikePost:function(t){return c.like(e)},onReactPost:c.test,onFollow:c.follow,onDonate:c.donate},null,8,["post","onLikePost","onReactPost","onFollow","onDonate"])])})),128)}var be=function(e){return Object(r["u"])("data-v-e2acc3fc"),e=e(),Object(r["s"])(),e},ge={class:"panel"},de={class:"topBar"},me={class:"content"},je=["src"],Oe={class:"contentJudge"},he={class:"likeComment"},ve=be((function(){return Object(r["g"])("i",{class:"far fa-comment"},null,-1)})),we=be((function(){return Object(r["g"])("div",{class:"bookmark"},[Object(r["g"])("i",{class:"far fa-bookmark"})],-1)})),ke={class:"reaction"},xe=be((function(){return Object(r["g"])("option",null,"0",-1)})),ye=be((function(){return Object(r["g"])("option",null,"100",-1)})),Re=be((function(){return Object(r["g"])("option",null,"200",-1)})),Pe=be((function(){return Object(r["g"])("option",null,"300",-1)})),Ie=be((function(){return Object(r["g"])("option",null,"400",-1)})),_e=be((function(){return Object(r["g"])("option",null,"500",-1)})),Fe=[xe,ye,Re,Pe,Ie,_e],Ce={class:"description"};function Ae(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",ge,[Object(r["g"])("div",de,[Object(r["g"])("label",null,Object(r["A"])(n.post.creatorUsername),1),Object(r["g"])("button",{class:"follow",onClick:t[0]||(t[0]=function(e){return c.onClickFollow(n.post.creatorId)})}," Follow ")]),Object(r["g"])("div",me,[Object(r["g"])("img",{class:"img",src:n.post.image},null,8,je)]),Object(r["g"])("div",Oe,[Object(r["g"])("div",he,[Object(r["g"])("button",{onClick:t[1]||(t[1]=function(e){return c.onLikeClick(n.post.post)})},[Object(r["g"])("i",{class:Object(r["n"])({"far fa-heart":!a.isLiked,"fas fa-heart":a.isLiked})},null,2)]),Object(r["g"])("label",null,Object(r["A"])(n.post.likes),1),ve]),we]),Object(r["g"])("div",ke,[Object(r["H"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.reaction=e})},null,512),[[r["E"],a.reaction]]),Object(r["g"])("button",{onClick:t[3]||(t[3]=function(e){return c.onReactionPost()})}," React "),Object(r["H"])(Object(r["g"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.donateTokens=e})},Fe,512),[[r["D"],a.donateTokens]]),Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return c.onClickDonate&&c.onClickDonate.apply(c,arguments)})}," Donate ")]),Object(r["g"])("div",Ce,[Object(r["g"])("h3",null,Object(r["A"])(n.post.description),1)]),(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.post.reactions,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id},[Object(r["g"])("div",null,Object(r["A"])(e.message),1)])})),128))])}var Te={name:"PostItem",props:["post"],emits:["like-post","react-post","follow","donate"],data:function(){return{isLiked:!1,reaction:"",message:"",donateTokens:0}},mounted:function(){console.log(this.post)},methods:{onLikeClick:function(e){this.$emit("like-post",e),this.isLiked=!this.isLiked},onReactionPost:function(){if(this.reaction){var e={postId:this.post.id,like:this.like,message:this.reaction};this.$emit("react-post",e)}else alert("please fill in a reaction")},onClickFollow:function(e){this.$emit("follow",e)},onClickDonate:function(){var e={amount:this.donateTokens,creatorId:this.post.creatorId};this.$emit("donate",e)}}};n("75b0");const Se=P()(Te,[["render",Ae],["__scopeId","data-v-e2acc3fc"]]);var Ue=Se,$e={name:"Posts",components:{Post:Ue},props:{posts:Array},emits:["test","reaction","follow","donate"],created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("posts = "+e.posts);case 1:case"end":return t.stop()}}),t)})))()},methods:{like:function(e){console.log("hehehehe"+e.id),this.$emit("test",e)},test:function(e){this.$emit("reaction",e)},follow:function(e){this.$emit("follow",e)},donate:function(e){this.$emit("donate",e)}}};const Le=P()($e,[["render",fe]]);var De=Le,Be="http://localhost:43085",Ee={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},Ve={PostFollow:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.post("".concat(Be,"/api/Follow"),e,Ee);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getFollowers:function(){return Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get("".concat(Be,"/api/Follow"),Ee);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t=e.t0.response;case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},GetFollowings:function(){return Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get("".concat(Be,"/api/Follow/following"),Ee);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t=e.t0.response;case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},qe="http://localhost:43085",Ge={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},He={postTokens:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.put("".concat(qe,"/api/Token"),e,Ge);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},donateTokens:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.put("".concat(qe,"/api/Token/donate"),e,Ge);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},Je={components:{Posts:De},data:function(){return{imagePosts:[],reactions:[]}},created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPosts();case 2:case"end":return t.stop()}}),t)})))()},methods:{getPosts:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pe.getPosts();case 2:n=t.sent,e.imagePosts=n,console.log("imagePosts = "+e.imagePosts);case 5:case"end":return t.stop()}}),t)})))()},likePost:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pe.saveLike(e);case 2:if(n=t.sent,!n){t.next=6;break}return t.next=6,pe.likePost(e);case 6:case"end":return t.stop()}}),t)})))()},reaction:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pe.react(e);case 2:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={creatorId:e},console.log(n),t.next=4,Ve.PostFollow(n);case 4:case"end":return t.stop()}}),t)})))()},donate:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,He.donateTokens(e);case 2:alert("thank you for your donation");case 3:case"end":return t.stop()}}),t)})))()},goToProfilePage:function(){this.$router.push({path:"profile",query:{username:"admin"}})}}};const Me=P()(Je,[["render",ue]]);var Ne=Me,ze=function(e){return Object(r["u"])("data-v-16e26ab0"),e=e(),Object(r["s"])(),e},Ke={class:"panel"},Qe={id:"preview",class:"preview"},We=["src"],Xe={class:"descriptionPanel"},Ye=ze((function(){return Object(r["g"])("label",null,"Description",-1)})),Ze=ze((function(){return Object(r["g"])("br",null,null,-1)}));function et(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",Ke,[Object(r["g"])("div",null,[Object(r["g"])("div",Qe,[a.url?(Object(r["r"])(),Object(r["f"])("img",{key:0,src:a.url},null,8,We)):Object(r["e"])("",!0)]),Object(r["g"])("input",{type:"file",accept:"image/jpeg",onChange:t[0]||(t[0]=function(){return c.convertImage&&c.convertImage.apply(c,arguments)})},null,32)]),Object(r["g"])("div",Xe,[Ye,Ze,Object(r["H"])(Object(r["g"])("textarea",{placeholder:"desciption","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.description=e})},null,512),[[r["E"],a.description]]),Object(r["g"])("button",{onClick:t[2]||(t[2]=function(){return c.postImage&&c.postImage.apply(c,arguments)})},"Post")])])}n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var tt={data:function(){return{description:"",image:"",url:""}},methods:{postImage:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.convertImage();case 2:return t.next=4,pe.PostImage(e.description,e.image);case 4:case"end":return t.stop()}}),t)})))()},convertImage:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.querySelector("input[type=file]").files[0],r=new FileReader,e.url=URL.createObjectURL(n),r.onloadend=function(){o=r.result,e.image=o},t.abrupt("return",r.readAsDataURL(n));case 5:case"end":return t.stop()}}),t)})))()}}};n("b049");const nt=P()(tt,[["render",et],["__scopeId","data-v-16e26ab0"]]);var rt=nt,ot=function(e){return Object(r["u"])("data-v-7a5bae54"),e=e(),Object(r["s"])(),e},at={class:"panel"},ct={class:"item item--1"},st={class:"content"},ut=ot((function(){return Object(r["g"])("h1",null," 100 Tokens",-1)})),it=ot((function(){return Object(r["g"])("label",null," $10.00",-1)})),lt={class:"item item--2"},pt={class:"content"},ft=ot((function(){return Object(r["g"])("h1",null," 200 Tokens",-1)})),bt=ot((function(){return Object(r["g"])("label",null," $20.00",-1)})),gt={class:"item item--3"},dt={class:"content"},mt=ot((function(){return Object(r["g"])("h1",null," 300 Tokens",-1)})),jt=ot((function(){return Object(r["g"])("label",null," $30.00",-1)})),Ot={class:"item item--4"},ht={class:"content"},vt=ot((function(){return Object(r["g"])("h1",null," 400 Tokens",-1)})),wt=ot((function(){return Object(r["g"])("label",null," $40.00",-1)})),kt={class:"item item--5"},xt={class:"content"},yt=ot((function(){return Object(r["g"])("h1",null," 500 Tokens",-1)})),Rt=ot((function(){return Object(r["g"])("label",null," $50.00",-1)})),Pt={class:"item item--6"},It={class:"content"},_t=ot((function(){return Object(r["g"])("h1",null," 600 Tokens",-1)})),Ft=ot((function(){return Object(r["g"])("label",null," $60.00",-1)}));function Ct(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",at,[Object(r["g"])("div",ct,[Object(r["g"])("div",st,[ut,it,Object(r["g"])("button",{onClick:t[0]||(t[0]=function(e){return c.buyTokens(100)})},"Buy")])]),Object(r["g"])("div",lt,[Object(r["g"])("div",pt,[ft,bt,Object(r["g"])("button",{onClick:t[1]||(t[1]=function(e){return c.buyTokens(200)})},"Buy")])]),Object(r["g"])("div",gt,[Object(r["g"])("div",dt,[mt,jt,Object(r["g"])("button",{onClick:t[2]||(t[2]=function(e){return c.buyTokens(300)})},"Buy")])]),Object(r["g"])("div",Ot,[Object(r["g"])("div",ht,[vt,wt,Object(r["g"])("button",{onClick:t[3]||(t[3]=function(e){return c.buyTokens(400)})},"Buy")])]),Object(r["g"])("div",kt,[Object(r["g"])("div",xt,[yt,Rt,Object(r["g"])("button",{onClick:t[4]||(t[4]=function(e){return c.buyTokens(500)})},"Buy")])]),Object(r["g"])("div",Pt,[Object(r["g"])("div",It,[_t,Ft,Object(r["g"])("button",{onClick:t[5]||(t[5]=function(e){return c.buyTokens(600)})},"Buy")])])])}var At={data:function(){return{}},methods:{buyTokens:function(e){var t={Amount:e};He.postTokens(t)}}};n("edf3");const Tt=P()(At,[["render",Ct],["__scopeId","data-v-7a5bae54"]]);var St=Tt,Ut={key:0},$t={key:1};function Lt(e,t,n,o,a,c){var s=Object(r["y"])("Followers");return Object(r["r"])(),Object(r["f"])("div",null,[a.isFan?(Object(r["r"])(),Object(r["f"])("h1",Ut," Following ")):(Object(r["r"])(),Object(r["f"])("h1",$t," Followers ")),Object(r["g"])("div",null,[Object(r["h"])(s,{followers:a.followers,"is-fan":a.isFan},null,8,["followers","is-fan"])])])}var Dt={class:"panel"};function Bt(e,t,n,o,a,c){var s=Object(r["y"])("Follower");return Object(r["r"])(),Object(r["f"])("div",Dt,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.followers,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id},[Object(r["h"])(s,{follower:e,isFan:n.isFan},null,8,["follower","isFan"])])})),128))])}var Et=function(e){return Object(r["u"])("data-v-48480ccc"),e=e(),Object(r["s"])(),e},Vt={class:"panel"},qt={key:0},Gt={class:"followItem"},Ht=Et((function(){return Object(r["g"])("img",{src:"https://picsum.photos/200/300",alt:"avatar"},null,-1)})),Jt=Et((function(){return Object(r["g"])("button",null,"Unfollow",-1)})),Mt={key:1},Nt={class:"followItem"},zt=Et((function(){return Object(r["g"])("img",{src:"https://picsum.photos/200/300",alt:"avatar"},null,-1)})),Kt=Et((function(){return Object(r["g"])("button",null,"Remove",-1)}));function Qt(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",Vt,[n.isFan?(Object(r["r"])(),Object(r["f"])("div",qt,[Object(r["g"])("div",Gt,[Ht,Object(r["g"])("label",null,Object(r["A"])(n.follower.creator.username),1),Jt])])):(Object(r["r"])(),Object(r["f"])("div",Mt,[Object(r["g"])("div",Nt,[zt,Object(r["g"])("label",null,Object(r["A"])(n.follower.fan.username),1),Kt])]))])}var Wt={name:"Follower",props:["follower","isFan"]};n("da32");const Xt=P()(Wt,[["render",Qt],["__scopeId","data-v-48480ccc"]]);var Yt=Xt,Zt={name:"Followers",props:{followers:Array,isFan:Boolean},components:{Follower:Yt}};n("c0a8");const en=P()(Zt,[["render",Bt],["__scopeId","data-v-27c02499"]]);var tn=en,nn={components:{Followers:tn},data:function(){return{followers:[],isFan:!1}},created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=F.getRole(),console.log("role = "+n),"creator"!=n){t.next=8;break}return t.next=5,Ve.getFollowers();case 5:e.followers=t.sent,t.next=12;break;case 8:return t.next=10,Ve.GetFollowings();case 10:e.followers=t.sent,e.isFan=!0;case 12:console.log("Followers = "+e.followers);case 13:case"end":return t.stop()}}),t)})))()}};const rn=P()(nn,[["render",Lt]]);var on=rn,an=function(e){return Object(r["u"])("data-v-bae71216"),e=e(),Object(r["s"])(),e},cn=an((function(){return Object(r["g"])("h1",null,"Profile Page",-1)})),sn={class:"panel"},un={class:"topSection"},ln=an((function(){return Object(r["g"])("div",{class:"profileimageContainer"},[Object(r["g"])("img",{src:"https://picsum.photos/200/300",alt:"avatar"})],-1)})),pn={class:"dataContainer"},fn={class:"usernameContainer"},bn={class:"data"},gn={class:"data"},dn={class:"imageContainer"};function mn(e,t,n,o,a,c){var s=Object(r["y"])("Post");return Object(r["r"])(),Object(r["f"])(r["a"],null,[cn,Object(r["g"])("div",sn,[Object(r["g"])("div",un,[ln,Object(r["g"])("div",pn,[Object(r["g"])("div",fn,[Object(r["g"])("h2",null,Object(r["A"])(this.username),1)]),Object(r["g"])("div",bn,[Object(r["g"])("label",null,"posts: "+Object(r["A"])(this.posts.length),1),Object(r["g"])("label",null,"followers: "+Object(r["A"])(this.followers.length),1)]),Object(r["g"])("div",gn,[Object(r["g"])("label",null,Object(r["A"])(this.bio),1),Object(r["g"])("label",null,Object(r["A"])(this.website),1)])])]),Object(r["g"])("div",dn,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.posts,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id},[Object(r["h"])(s,{post:e},null,8,["post"])])})),128))])])],64)}var jn=["src"];function On(e,t,n,o,a,c){return Object(r["r"])(),Object(r["f"])("div",null,[Object(r["g"])("img",{class:"img",src:n.post.image},null,8,jn)])}var hn={name:"PostItem",props:["post"],data:function(){return{isLiked:!1,reaction:"",message:"",donateTokens:0}}};n("834a");const vn=P()(hn,[["render",On],["__scopeId","data-v-f7175074"]]);var wn=vn,kn="http://localhost:43085",xn={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},yn={getUserData:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.get("".concat(kn,"/api/User/").concat(e),xn);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return console.log(n),t.abrupt("return",n.data);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},Rn={data:function(){return{username:"",posts:[],followers:[],bio:"",website:""}},components:{Post:wn},created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.username=e.$route.query.username,t.next=3,yn.getUserData(e.username);case 3:n=t.sent,e.username=n.username,e.posts=n.posts,e.bio=n.bio,e.website=n.website,e.followers=n.followers;case 9:case"end":return t.stop()}}),t)})))()}};n("0268");const Pn=P()(Rn,[["render",mn],["__scopeId","data-v-bae71216"]]);var In=Pn,_n=[{path:"/login",name:"login",component:ee},{path:"/home",alias:"/",name:"home",component:Ne,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:se},{path:"/createPost",name:"createPost",component:rt,meta:{requiresAuth:!0}},{path:"/buytokens",name:"buytokens",component:St,meta:{requiresAuth:!0}},{path:"/followers",name:"followers",component:on,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:In,meta:{requiresAuth:!0}}],Fn=Object(S["a"])({history:Object(S["b"])("/Frontend_Vue/"),routes:_n});Fn.beforeEach((function(e,t,n){if("/"===e.path&&(null==localStorage.getItem("jwt")?n({name:"login",params:{nextUrl:e.fullPath}}):n({name:"home"})),e.matched.some((function(e){return e.meta.requiresAuth})))if(null==localStorage.getItem("jwt"))n({name:"login",params:{nextUrl:e.fullPath}});else{var r=F.parseJwt(localStorage.getItem("jwt")),o=F.checkExpiration(r["exp"]);console.log(F.getRole()),o?(localStorage.removeItem("jwt"),n({name:"login",params:{nextUrl:e.fullPath}})):n()}else e.matched.some((function(e){return e.meta.guest}))?null==localStorage.getItem("jwt")?n():n({name:"home"}):n()}));var Cn=Fn;n("15f5"),n("7051");Object(r["c"])(T).use(Cn).mount("#app")},"6c39":function(e,t,n){},"6e6f":function(e,t,n){},"75b0":function(e,t,n){"use strict";n("da47")},"7e2d":function(e,t,n){},"834a":function(e,t,n){"use strict";n("8aaf")},"8aaf":function(e,t,n){},9152:function(e,t,n){},"9f30":function(e,t,n){},b049:function(e,t,n){"use strict";n("9152")},c0a8:function(e,t,n){"use strict";n("f88e")},d1f4:function(e,t,n){},d65b:function(e,t,n){"use strict";n("d1f4")},da32:function(e,t,n){"use strict";n("e3fa")},da47:function(e,t,n){},e3fa:function(e,t,n){},edf3:function(e,t,n){"use strict";n("6c39")},f88e:function(e,t,n){}});
//# sourceMappingURL=app.04ad8931.js.map